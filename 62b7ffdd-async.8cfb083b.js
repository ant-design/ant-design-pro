(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]||[]).push([["62b7ffdd"],{"62b7ffdd":function(e,a,l){l.d(a,"__esModule",{value:!0}),l.e(a,{default:function(){return L;}});var r=l("777fffbe"),t=l("dac8af92"),d=l("2abeadd7"),s=r._(d),n=l("7a650845"),o=l("bd17d7d2"),i=l("e6b1eada"),u=l("2e660475"),p=l("4c05700a"),m=r._(p),c=l("904df147"),f=r._(c),x=l("6172027d"),h=r._(x),g=l("80e01657"),b=r._(g),j=l("084468f6"),v=r._(j),y=l("78a22024"),k=r._(y),w=l("d91b8a20"),q=r._(w),I=l("4d2fad5e"),P=r._(I),_=l("adf76174"),N=r._(_),T=l("609f48be"),F=l("c7d71c0a");async function R(e){return(0,F.request)("/api/advancedForm",{method:"POST",data:e});}let S=(0,l("98213865").createStyles)(({token:e})=>({card:{marginBottom:"24px",".ant-legacy-form-item .ant-legacy-form-item-control-wrapper":{width:"100%"}},errorIcon:{marginRight:"12px",color:e.colorError,cursor:"pointer","span.anticon":{marginRight:"4px"},float:"left",marginTop:"4px",paddingBottom:"22px"},errorPopover:{".ant-popover-inner-content":{minWidth:"256px",maxHeight:"290px",padding:"0",overflow:"auto"}},errorListItem:{padding:"8px 16px",listStyle:"none",borderBottom:`1px solid ${e.colorSplit}`,cursor:"pointer",transition:"all 0.3s","&:hover":{background:e.colorBgTextActive},"&:last-child":{border:"0"}},errorField:{marginTop:"2px",color:e.colorTextSecondary,fontSize:"12px"},editable:{td:{paddingTop:"13px",paddingBottom:"12.5px"}}})),B={name:"\u4ED3\u5E93\u540D",url:"\u4ED3\u5E93\u57DF\u540D",owner:"\u4ED3\u5E93\u7BA1\u7406\u5458",approver:"\u5BA1\u6279\u4EBA",dateRange:"\u751F\u6548\u65E5\u671F",type:"\u4ED3\u5E93\u7C7B\u578B",name2:"\u4EFB\u52A1\u540D",url2:"\u4EFB\u52A1\u63CF\u8FF0",owner2:"\u6267\u884C\u4EBA",approver2:"\u8D23\u4EFB\u4EBA",dateRange2:"\u751F\u6548\u65E5\u671F",type2:"\u4EFB\u52A1\u7C7B\u578B"},C=[{key:"1",workId:"00001",name:"John Brown",department:"New York No. 1 Lake Park"},{key:"2",workId:"00002",name:"Jim Green",department:"London No. 1 Lake Park"},{key:"3",workId:"00003",name:"Joe Black",department:"Sidney No. 1 Lake Park"}],L=()=>{let{styles:e}=S(),[a,l]=(0,T.useState)([]),r=a=>{let l=a.filter(e=>e.errors.length>0).length;if(!a||0===l)return null;let r=e=>{let a=document.querySelector(`label[for="${e}"]`);a&&a.scrollIntoView(!0);},d=a.map(a=>{if(!a||0===a.errors.length)return null;let l=a.name[0];return(0,t.jsxs)("li",{className:e.errorListItem,onClick:()=>r(l),children:[(0,t.jsx)(s.default,{className:e.errorIcon}),(0,t.jsx)("div",{children:a.errors[0]}),(0,t.jsx)("div",{className:e.errorField,children:B[l]})]},l);});return(0,t.jsxs)("span",{className:e.errorIcon,children:[(0,t.jsx)(P.default,{title:"\u8868\u5355\u6821\u9A8C\u4FE1\u606F",content:d,overlayClassName:e.errorPopover,trigger:"click",getPopupContainer:e=>(null==e?void 0:e.parentNode)?e.parentNode:e,children:(0,t.jsx)(s.default,{})}),l]});},d=async e=>{l([]);try{await R(e),q.default.success("\u63D0\u4EA4\u6210\u529F");}catch{}},p=[{title:"\u6210\u5458\u59D3\u540D",dataIndex:"name",key:"name",width:"20%"},{title:"\u5DE5\u53F7",dataIndex:"workId",key:"workId",width:"20%"},{title:"\u6240\u5C5E\u90E8\u95E8",dataIndex:"department",key:"department",width:"40%"},{title:"\u64CD\u4F5C",key:"action",valueType:"option",render:(e,a,l,r)=>[(0,t.jsx)("a",{onClick:()=>{null==r||r.startEditable(a.key);},children:"\u7F16\u8F91"},"eidit")]}];return(0,t.jsx)(u.ProForm,{layout:"vertical",hideRequiredMark:!0,submitter:{render:(e,l)=>(0,t.jsxs)(o.FooterToolbar,{children:[r(a),l]})},initialValues:{members:C},onFinish:d,onFinishFailed:e=>{l(e.errorFields);},children:(0,t.jsxs)(i.PageContainer,{content:"\u9AD8\u7EA7\u8868\u5355\u5E38\u89C1\u4E8E\u4E00\u6B21\u6027\u8F93\u5165\u548C\u63D0\u4EA4\u5927\u6279\u91CF\u6570\u636E\u7684\u573A\u666F\u3002",children:[(0,t.jsxs)(v.default,{title:"\u4ED3\u5E93\u7BA1\u7406",className:e.card,variant:"borderless",children:[(0,t.jsxs)(N.default,{gutter:16,children:[(0,t.jsx)(k.default,{lg:6,md:12,sm:24,children:(0,t.jsx)(h.default,{label:B.name,name:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4ED3\u5E93\u540D\u79F0"}],placeholder:"\u8BF7\u8F93\u5165\u4ED3\u5E93\u540D\u79F0"})}),(0,t.jsx)(k.default,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,t.jsx)(h.default,{label:B.url,name:"url",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}],fieldProps:{style:{width:"100%"},addonBefore:"http://",addonAfter:".com"},placeholder:"\u8BF7\u8F93\u5165"})}),(0,t.jsx)(k.default,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,t.jsx)(f.default,{label:B.owner,name:"owner",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}],placeholder:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"})})]}),(0,t.jsxs)(N.default,{gutter:16,children:[(0,t.jsx)(k.default,{lg:6,md:12,sm:24,children:(0,t.jsx)(f.default,{label:B.approver,name:"approver",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}],placeholder:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"})}),(0,t.jsx)(k.default,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,t.jsx)(m.default,{label:B.dateRange,name:"dateRange",fieldProps:{style:{width:"100%"}},rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u751F\u6548\u65E5\u671F"}]})}),(0,t.jsx)(k.default,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,t.jsx)(f.default,{label:B.type,name:"type",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"}],options:[{label:"\u79C1\u5BC6",value:"private"},{label:"\u516C\u5F00",value:"public"}],placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"})})]})]}),(0,t.jsxs)(v.default,{title:"\u4EFB\u52A1\u7BA1\u7406",className:e.card,variant:"borderless",children:[(0,t.jsxs)(N.default,{gutter:16,children:[(0,t.jsx)(k.default,{lg:6,md:12,sm:24,children:(0,t.jsx)(h.default,{label:B.name2,name:"name2",rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}]})}),(0,t.jsx)(k.default,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,t.jsx)(h.default,{label:B.url2,name:"url2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}]})}),(0,t.jsx)(k.default,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,t.jsx)(f.default,{label:B.owner2,name:"owner2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}]})})]}),(0,t.jsxs)(N.default,{gutter:16,children:[(0,t.jsx)(k.default,{lg:6,md:12,sm:24,children:(0,t.jsx)(f.default,{label:B.approver2,name:"approver2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}],placeholder:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"})}),(0,t.jsx)(k.default,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,t.jsx)(b.default,{label:B.dateRange2,name:"dateRange2",rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}],placeholder:"\u63D0\u9192\u65F6\u95F4",fieldProps:{style:{width:"100%"}}})}),(0,t.jsx)(k.default,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,t.jsx)(f.default,{label:B.type2,name:"type2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"}],options:[{label:"\u79C1\u5BC6",value:"private"},{label:"\u516C\u5F00",value:"public"}],placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"})})]})]}),(0,t.jsx)(v.default,{title:"\u6210\u5458\u7BA1\u7406",variant:"borderless",children:(0,t.jsx)(u.ProForm.Item,{name:"members",children:(0,t.jsx)(n.EditableProTable,{recordCreatorProps:{record:()=>({key:`0${Date.now()}`})},columns:p,rowKey:"key"})})})]})});};}}]);
//# sourceMappingURL=62b7ffdd-async.8cfb083b.js.map