{"version":3,"sources":["src/pages/profile/basic/service.ts","src/pages/profile/basic/style.style.ts","src/pages/profile/basic/index.tsx"],"sourcesContent":["import { request } from '@umijs/max';\nimport type { BasicGood, BasicProgress } from './data.d';\n\nexport async function queryBasicProfile(): Promise<{\n  data: {\n    basicProgress: BasicProgress[];\n    basicGoods: BasicGood[];\n  };\n}> {\n  return request('/api/profile/basic');\n}\n","import { createStyles } from 'antd-style';\n\nconst useStyles = createStyles(({ token }) => {\n  return {\n    title: {\n      marginBottom: '16px',\n      color: token.colorTextHeading,\n      fontWeight: '500',\n      fontSize: '16px',\n    },\n  };\n});\n\nexport default useStyles;\n","import type { ProColumns } from '@ant-design/pro-components';\nimport { PageContainer, ProTable } from '@ant-design/pro-components';\nimport { useRequest } from '@umijs/max';\nimport { Badge, Card, Descriptions, Divider } from 'antd';\nimport type { FC } from 'react';\nimport React from 'react';\nimport type { BasicGood, BasicProgress } from './data.d';\nimport { queryBasicProfile } from './service';\nimport useStyles from './style.style';\n\nconst progressColumns: ProColumns<BasicProgress>[] = [\n  {\n    title: '时间',\n    dataIndex: 'time',\n    key: 'time',\n  },\n  {\n    title: '当前进度',\n    dataIndex: 'rate',\n    key: 'rate',\n  },\n  {\n    title: '状态',\n    dataIndex: 'status',\n    key: 'status',\n    render: (text: React.ReactNode) => {\n      if (text === 'success') {\n        return <Badge status=\"success\" text=\"成功\" />;\n      }\n      return <Badge status=\"processing\" text=\"进行中\" />;\n    },\n  },\n  {\n    title: '操作员ID',\n    dataIndex: 'operator',\n    key: 'operator',\n  },\n  {\n    title: '耗时',\n    dataIndex: 'cost',\n    key: 'cost',\n  },\n];\nconst Basic: FC = () => {\n  const { styles } = useStyles();\n  const { data, loading } = useRequest(() => {\n    return queryBasicProfile();\n  });\n  const { basicGoods, basicProgress } = data || {\n    basicGoods: [],\n    basicProgress: [],\n  };\n  let goodsData: typeof basicGoods = [];\n  if (basicGoods.length) {\n    let num = 0;\n    let amount = 0;\n    basicGoods.forEach((item) => {\n      num += Number(item.num);\n      amount += Number(item.amount);\n    });\n    goodsData = basicGoods.concat({\n      id: '总计',\n      num,\n      amount,\n    });\n  }\n  const renderContent = (value: any, _: any, index: any) => {\n    const obj: {\n      children: any;\n      props: {\n        colSpan?: number;\n      };\n    } = {\n      children: value,\n      props: {},\n    };\n    if (index === basicGoods.length) {\n      obj.props.colSpan = 0;\n    }\n    return obj;\n  };\n  const goodsColumns: ProColumns<BasicGood>[] = [\n    {\n      title: '商品编号',\n      dataIndex: 'id',\n      key: 'id',\n      render: (text: React.ReactNode, _: any, index: number) => {\n        if (index < basicGoods.length) {\n          return <span>{text}</span>;\n        }\n        return {\n          children: (\n            <span\n              style={{\n                fontWeight: 600,\n              }}\n            >\n              总计\n            </span>\n          ),\n          props: {\n            colSpan: 4,\n          },\n        };\n      },\n    },\n    {\n      title: '商品名称',\n      dataIndex: 'name',\n      key: 'name',\n      render: renderContent,\n    },\n    {\n      title: '商品条码',\n      dataIndex: 'barcode',\n      key: 'barcode',\n      render: renderContent,\n    },\n    {\n      title: '单价',\n      dataIndex: 'price',\n      key: 'price',\n      align: 'right' as 'left' | 'right' | 'center',\n      render: renderContent,\n    },\n    {\n      title: '数量（件）',\n      dataIndex: 'num',\n      key: 'num',\n      align: 'right' as 'left' | 'right' | 'center',\n      render: (text: React.ReactNode, _: any, index: number) => {\n        if (index < basicGoods.length) {\n          return text;\n        }\n        return (\n          <span\n            style={{\n              fontWeight: 600,\n            }}\n          >\n            {text}\n          </span>\n        );\n      },\n    },\n    {\n      title: '金额',\n      dataIndex: 'amount',\n      key: 'amount',\n      align: 'right' as 'left' | 'right' | 'center',\n      render: (text: React.ReactNode, _: any, index: number) => {\n        if (index < basicGoods.length) {\n          return text;\n        }\n        return (\n          <span\n            style={{\n              fontWeight: 600,\n            }}\n          >\n            {text}\n          </span>\n        );\n      },\n    },\n  ];\n  return (\n    <PageContainer>\n      <Card bordered={false}>\n        <Descriptions\n          title=\"退款申请\"\n          style={{\n            marginBottom: 32,\n          }}\n        >\n          <Descriptions.Item label=\"取货单号\">1000000000</Descriptions.Item>\n          <Descriptions.Item label=\"状态\">已取货</Descriptions.Item>\n          <Descriptions.Item label=\"销售单号\">1234123421</Descriptions.Item>\n          <Descriptions.Item label=\"子订单\">3214321432</Descriptions.Item>\n        </Descriptions>\n        <Divider\n          style={{\n            marginBottom: 32,\n          }}\n        />\n        <Descriptions\n          title=\"用户信息\"\n          style={{\n            marginBottom: 32,\n          }}\n        >\n          <Descriptions.Item label=\"用户姓名\">付小小</Descriptions.Item>\n          <Descriptions.Item label=\"联系电话\">18100000000</Descriptions.Item>\n          <Descriptions.Item label=\"常用快递\">菜鸟仓储</Descriptions.Item>\n          <Descriptions.Item label=\"取货地址\">\n            浙江省杭州市西湖区万塘路18号\n          </Descriptions.Item>\n          <Descriptions.Item label=\"备注\">无</Descriptions.Item>\n        </Descriptions>\n        <Divider\n          style={{\n            marginBottom: 32,\n          }}\n        />\n        <div className={styles.title}>退货商品</div>\n        <ProTable\n          style={{\n            marginBottom: 24,\n          }}\n          pagination={false}\n          search={false}\n          loading={loading}\n          options={false}\n          toolBarRender={false}\n          dataSource={goodsData}\n          columns={goodsColumns}\n          rowKey=\"id\"\n        />\n        <div className={styles.title}>退货进度</div>\n        <ProTable\n          style={{\n            marginBottom: 16,\n          }}\n          pagination={false}\n          loading={loading}\n          search={false}\n          options={false}\n          toolBarRender={false}\n          dataSource={basicProgress}\n          columns={progressColumns}\n        />\n      </Card>\n    </PageContainer>\n  );\n};\nexport default Basic;\n"],"names":[],"mappings":"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"}