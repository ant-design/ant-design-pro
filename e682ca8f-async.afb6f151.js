(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]||[]).push([["e682ca8f"],{"832db320":function(e,s,a){a.d(s,"__esModule",{value:!0}),a.e(s,{default:function(){return I;}});var l=a("777fffbe"),r=a("dac8af92"),t=a("c7d71c0a"),n=a("38ab0c18"),i=l._(n),d=a("78a22024"),o=l._(d),c=a("f34e933b"),u=l._(c),h=a("be902df5"),p=l._(h),g=a("d91b8a20"),f=l._(g),m=a("4d2fad5e"),x=l._(m),j=a("bfbbdf71"),b=l._(j),v=a("adf76174"),w=l._(v),y=a("cef31543"),_=l._(y),k=a("8f0ec5f3"),N=l._(k),C=a("609f48be");async function S(e){return(0,t.request)("/api/register",{method:"POST",data:e});}let z=(0,a("98213865").createStyles)(({token:e})=>({main:{width:"368px",margin:"0 auto",h3:{marginBottom:"20px",fontSize:"16px"}},password:{marginBottom:"24px",".ant-form-item-explain":{display:"none"}},getCaptcha:{display:"block",width:"100%"},footer:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},submit:{width:"50%"},success:{transition:"color 0.3s",color:e.colorSuccess},warning:{transition:"color 0.3s",color:e.colorWarning},error:{transition:"color 0.3s",color:e.colorError},"progress-pass > .progress":{".ant-progress-bg":{backgroundColor:e.colorWarning}}})),F=u.default.Item,{Option:T}=_.default,q={ok:"success",pass:"normal",poor:"exception"},I=()=>{let e;let{styles:s}=z(),[a,l]=(0,C.useState)(0),[n,d]=(0,C.useState)(!1),[c,h]=(0,C.useState)("86"),[g,m]=(0,C.useState)(!1),j={ok:(0,r.jsx)("div",{className:s.success,children:(0,r.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u5F3A"})}),pass:(0,r.jsx)("div",{className:s.warning,children:(0,r.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u4E2D"})}),poor:(0,r.jsx)("div",{className:s.error,children:(0,r.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u592A\u77ED"})})},[v]=u.default.useForm();(0,C.useEffect)(()=>()=>{clearInterval(e);},[e]);let y=()=>{let e=v.getFieldValue("password");return e&&e.length>9?"ok":e&&e.length>5?"pass":"poor";},{loading:k,run:I}=(0,t.useRequest)(S,{manual:!0,onSuccess:(e,s)=>{"ok"===e.status&&(f.default.success("\u6CE8\u518C\u6210\u529F\uFF01"),t.history.push({pathname:`/user/register-result?account=${s[0].email}`}));}});return(0,r.jsxs)("div",{className:s.main,children:[(0,r.jsx)("h3",{children:"\u6CE8\u518C"}),(0,r.jsxs)(u.default,{form:v,name:"UserRegister",onFinish:e=>{I(e);},children:[(0,r.jsx)(F,{name:"email",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740!"},{type:"email",message:"\u90AE\u7BB1\u5730\u5740\u683C\u5F0F\u9519\u8BEF!"}],children:(0,r.jsx)(p.default,{size:"large",placeholder:"\u90AE\u7BB1"})}),(0,r.jsx)(x.default,{getPopupContainer:e=>(null==e?void 0:e.parentNode)?e.parentNode:e,content:n&&(0,r.jsxs)("div",{style:{padding:"4px 0"},children:[j[y()],(()=>{let e=v.getFieldValue("password"),a=y();return(null==e?void 0:e.length)?(0,r.jsx)("div",{className:s[`progress-${a}`],children:(0,r.jsx)(b.default,{status:q[a],strokeWidth:6,percent:10*e.length>100?100:10*e.length,showInfo:!1})}):null;})(),(0,r.jsx)("div",{style:{marginTop:10},children:(0,r.jsx)("span",{children:"\u8BF7\u81F3\u5C11\u8F93\u5165 6 \u4E2A\u5B57\u7B26\u3002\u8BF7\u4E0D\u8981\u4F7F\u7528\u5BB9\u6613\u88AB\u731C\u5230\u7684\u5BC6\u7801\u3002"})})]}),overlayStyle:{width:240},placement:"right",open:n,children:(0,r.jsx)(F,{name:"password",className:v.getFieldValue("password")&&v.getFieldValue("password").length>0&&s.password,rules:[{validator:(e,s)=>{let a=Promise;return s?(n||d(!!s),m(!g),s.length<6)?a.reject(""):a.resolve():(d(!!s),a.reject("\u8BF7\u8F93\u5165\u5BC6\u7801!"));}}],children:(0,r.jsx)(p.default,{size:"large",type:"password",placeholder:"\u81F3\u5C116\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199"})})}),(0,r.jsx)(F,{name:"confirm",rules:[{required:!0,message:"\u786E\u8BA4\u5BC6\u7801"},{validator:(e,s)=>{let a=Promise;return s&&s!==v.getFieldValue("password")?a.reject("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u5339\u914D!"):a.resolve();}}],children:(0,r.jsx)(p.default,{size:"large",type:"password",placeholder:"\u786E\u8BA4\u5BC6\u7801"})}),(0,r.jsx)(F,{name:"mobile",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7!"},{pattern:/^\d{11}$/,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF!"}],children:(0,r.jsxs)(N.default.Compact,{style:{width:"100%"},children:[(0,r.jsxs)(_.default,{size:"large",value:c,onChange:e=>{h(e);},style:{width:"30%"},children:[(0,r.jsx)(T,{value:"86",children:"+86"}),(0,r.jsx)(T,{value:"87",children:"+87"})]}),(0,r.jsx)(p.default,{size:"large",placeholder:"\u624B\u673A\u53F7"})]})}),(0,r.jsxs)(w.default,{gutter:8,children:[(0,r.jsx)(o.default,{span:16,children:(0,r.jsx)(F,{name:"captcha",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801!"}],children:(0,r.jsx)(p.default,{size:"large",placeholder:"\u9A8C\u8BC1\u7801"})})}),(0,r.jsx)(o.default,{span:8,children:(0,r.jsx)(i.default,{size:"large",disabled:!!a,className:s.getCaptcha,onClick:()=>{let s=59;l(59),e=window.setInterval(()=>{l(s-=1),0===s&&clearInterval(e);},1e3);},children:a?`${a} s`:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})})]}),(0,r.jsx)(F,{children:(0,r.jsxs)("div",{className:s.footer,children:[(0,r.jsx)(i.default,{size:"large",loading:k,className:s.submit,type:"primary",htmlType:"submit",children:(0,r.jsx)("span",{children:"\u6CE8\u518C"})}),(0,r.jsx)(t.Link,{to:"/user/login",children:(0,r.jsx)("span",{children:"\u4F7F\u7528\u5DF2\u6709\u8D26\u6237\u767B\u5F55"})})]})})]})]});};}}]);
//# sourceMappingURL=e682ca8f-async.afb6f151.js.map