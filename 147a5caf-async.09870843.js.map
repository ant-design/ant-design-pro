{"version":3,"sources":["src/pages/form/basic-form/service.ts","src/pages/form/basic-form/style.style.ts","src/pages/form/basic-form/index.tsx"],"sourcesContent":["import { request } from '@umijs/max';\n\nexport async function fakeSubmitForm(params: any) {\n  return request('/api/basicForm', {\n    method: 'POST',\n    data: params,\n  });\n}\n","import { createStyles } from 'antd-style';\n\nconst useStyles = createStyles(({ token }) => {\n  return {\n    optional: {\n      color: token.colorTextSecondary,\n      fontStyle: 'normal',\n    },\n  };\n});\n\nexport default useStyles;\n","import {\n  PageContainer,\n  ProForm,\n  ProFormDateRangePicker,\n  ProFormDependency,\n  ProFormDigit,\n  ProFormRadio,\n  ProFormSelect,\n  ProFormText,\n  ProFormTextArea,\n} from '@ant-design/pro-components';\nimport { useRequest } from '@umijs/max';\nimport { Card, message } from 'antd';\nimport type { FC } from 'react';\nimport { fakeSubmitForm } from './service';\nimport useStyles from './style.style';\n\nconst BasicForm: FC<Record<string, any>> = () => {\n  const { styles } = useStyles();\n  const { run } = useRequest(fakeSubmitForm, {\n    manual: true,\n    onSuccess: () => {\n      message.success('提交成功');\n    },\n  });\n  const onFinish = async (values: Record<string, any>) => {\n    run(values);\n  };\n  return (\n    <PageContainer content=\"表单页用于向用户收集或验证信息，基础表单常见于数据项较少的表单场景。\">\n      <Card variant=\"borderless\">\n        <ProForm\n          hideRequiredMark\n          style={{\n            margin: 'auto',\n            marginTop: 8,\n            maxWidth: 600,\n          }}\n          name=\"basic\"\n          layout=\"vertical\"\n          initialValues={{\n            public: '1',\n          }}\n          onFinish={onFinish}\n        >\n          <ProFormText\n            width=\"md\"\n            label=\"标题\"\n            name=\"title\"\n            rules={[\n              {\n                required: true,\n                message: '请输入标题',\n              },\n            ]}\n            placeholder=\"给目标起个名字\"\n          />\n          <ProFormDateRangePicker\n            label=\"起止日期\"\n            width=\"md\"\n            name=\"date\"\n            rules={[\n              {\n                required: true,\n                message: '请选择起止日期',\n              },\n            ]}\n            placeholder={['开始日期', '结束日期']}\n          />\n          <ProFormTextArea\n            label=\"目标描述\"\n            width=\"xl\"\n            name=\"goal\"\n            rules={[\n              {\n                required: true,\n                message: '请输入目标描述',\n              },\n            ]}\n            placeholder=\"请输入你的阶段性工作目标\"\n          />\n\n          <ProFormTextArea\n            label=\"衡量标准\"\n            name=\"standard\"\n            width=\"xl\"\n            rules={[\n              {\n                required: true,\n                message: '请输入衡量标准',\n              },\n            ]}\n            placeholder=\"请输入衡量标准\"\n          />\n\n          <ProFormText\n            width=\"md\"\n            label={\n              <span>\n                客户\n                <em className={styles.optional}>（选填）</em>\n              </span>\n            }\n            tooltip=\"目标的服务对象\"\n            name=\"client\"\n            placeholder=\"请描述你服务的客户，内部客户直接 @姓名／工号\"\n          />\n\n          <ProFormText\n            width=\"md\"\n            label={\n              <span>\n                邀评人\n                <em className={styles.optional}>（选填）</em>\n              </span>\n            }\n            name=\"invites\"\n            placeholder=\"请直接 @姓名／工号，最多可邀请 5 人\"\n          />\n\n          <ProFormDigit\n            label={\n              <span>\n                权重\n                <em className={styles.optional}>（选填）</em>\n              </span>\n            }\n            name=\"weight\"\n            placeholder=\"请输入\"\n            min={0}\n            max={100}\n            width=\"xs\"\n            fieldProps={{\n              formatter: (value) => `${value || 0}%`,\n              parser: (value) => Number(value ? value.replace('%', '') : '0'),\n            }}\n          />\n\n          <ProFormRadio.Group\n            options={[\n              {\n                value: '1',\n                label: '公开',\n              },\n              {\n                value: '2',\n                label: '部分公开',\n              },\n              {\n                value: '3',\n                label: '不公开',\n              },\n            ]}\n            label=\"目标公开\"\n            help=\"客户、邀评人默认被分享\"\n            name=\"publicType\"\n          />\n          <ProFormDependency name={['publicType']}>\n            {({ publicType }) => {\n              return (\n                <ProFormSelect\n                  width=\"md\"\n                  name=\"publicUsers\"\n                  fieldProps={{\n                    style: {\n                      margin: '8px 0',\n                      display:\n                        publicType && publicType === '2' ? 'block' : 'none',\n                    },\n                  }}\n                  options={[\n                    {\n                      value: '1',\n                      label: '同事甲',\n                    },\n                    {\n                      value: '2',\n                      label: '同事乙',\n                    },\n                    {\n                      value: '3',\n                      label: '同事丙',\n                    },\n                  ]}\n                />\n              );\n            }}\n          </ProFormDependency>\n        </ProForm>\n      </Card>\n    </PageContainer>\n  );\n};\nexport default BasicForm;\n"],"names":[],"mappings":"0kBAEO,eAAe,EAAe,CAAW,EAC9C,MAAO,GAAA,SAAO,EAAC,iBAAkB,CAC/B,OAAQ,OACR,KAAM,CACR,GACF,CCLA,IAAM,EAAY,GAAA,0BAAY,EAAC,CAAC,CAAE,MAAA,CAAK,CAAE,GAChC,CAAA,CACL,SAAU,CACR,MAAO,EAAM,kBAAkB,CAC/B,UAAW,QACb,CACF,CAAA,GCSI,EAAqC,KACzC,GAAM,CAAE,OAAA,CAAM,CAAE,CAAG,IACb,CAAE,IAAA,CAAG,CAAE,CAAG,GAAA,YAAU,EAAC,EAAgB,CACzC,OAAQ,CAAA,EACR,UAAW,KACT,SAAO,CAAC,OAAO,CAAC,4BAClB,CACF,GACM,EAAW,MAAO,IACtB,EAAI,GACN,EACA,MACE,UAAC,eAAa,EAAC,QAAQ,wNACrB,UAAC,SAAI,EAAC,QAAQ,sBACZ,WAAC,SAAO,EACN,gBAAgB,IAChB,MAAO,CACL,OAAQ,OACR,UAAW,EACX,SAAU,GACZ,EACA,KAAK,QACL,OAAO,WACP,cAAe,CACb,OAAQ,GACV,EACA,SAAU,YAEV,UAAC,SAAW,EACV,MAAM,KACN,MAAM,eACN,KAAK,QACL,MAAO,CACL,CACE,SAAU,CAAA,EACV,QAAS,gCACX,EACD,CACD,YAAY,+CAEd,UAAC,SAAsB,EACrB,MAAM,2BACN,MAAM,KACN,KAAK,OACL,MAAO,CACL,CACE,SAAU,CAAA,EACV,QAAS,4CACX,EACD,CACD,YAAa,CAAC,2BAAQ,2BAAO,GAE/B,UAAC,SAAe,EACd,MAAM,2BACN,MAAM,KACN,KAAK,OACL,MAAO,CACL,CACE,SAAU,CAAA,EACV,QAAS,4CACX,EACD,CACD,YAAY,6EAGd,UAAC,SAAe,EACd,MAAM,2BACN,KAAK,WACL,MAAM,KACN,MAAO,CACL,CACE,SAAU,CAAA,EACV,QAAS,4CACX,EACD,CACD,YAAY,+CAGd,UAAC,SAAW,EACV,MAAM,KACN,MACE,WAAC,kBAAK,eAEJ,UAAC,MAAG,UAAW,EAAO,QAAQ,UAAE,gCAGpC,QAAQ,6CACR,KAAK,SACL,YAAY,qIAGd,UAAC,SAAW,EACV,MAAM,KACN,MACE,WAAC,kBAAK,qBAEJ,UAAC,MAAG,UAAW,EAAO,QAAQ,UAAE,gCAGpC,KAAK,UACL,YAAY,oGAGd,UAAC,SAAY,EACX,MACE,WAAC,kBAAK,eAEJ,UAAC,MAAG,UAAW,EAAO,QAAQ,UAAE,gCAGpC,KAAK,SACL,YAAY,qBACZ,IAAK,EACL,IAAK,IACL,MAAM,KACN,WAAY,CACV,UAAW,AAAC,GAAU,CAAC,EAAE,GAAS,EAAE,CAAC,CAAC,CACtC,OAAQ,AAAC,GAAU,OAAO,EAAQ,EAAM,OAAO,CAAC,IAAK,IAAM,IAC7D,IAGF,UAAC,SAAY,CAAC,KAAK,EACjB,QAAS,CACP,CACE,MAAO,IACP,MAAO,cACT,EACA,CACE,MAAO,IACP,MAAO,0BACT,EACA,CACE,MAAO,IACP,MAAO,oBACT,EACD,CACD,MAAM,2BACN,KAAK,qEACL,KAAK,eAEP,UAAC,SAAiB,EAAC,KAAM,CAAC,aAAa,UACpC,CAAC,CAAE,WAAA,CAAU,CAAE,GAEZ,UAAC,SAAa,EACZ,MAAM,KACN,KAAK,cACL,WAAY,CACV,MAAO,CACL,OAAQ,QACR,QACE,GAAc,AAAe,MAAf,EAAqB,QAAU,MACjD,CACF,EACA,QAAS,CACP,CACE,MAAO,IACP,MAAO,oBACT,EACA,CACE,MAAO,IACP,MAAO,oBACT,EACA,CACE,MAAO,IACP,MAAO,oBACT,EACD,YASnB"}