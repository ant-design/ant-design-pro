{"version":3,"sources":["src/pages/list/search/index.tsx"],"sourcesContent":["import { PageContainer } from '@ant-design/pro-components';\nimport { history, Outlet, useLocation, useMatch } from '@umijs/max';\nimport { Input } from 'antd';\nimport type { FC } from 'react';\n\ntype SearchProps = {\n  children?: React.ReactNode;\n};\n\nconst tabList = [\n  {\n    key: 'articles',\n    tab: '文章',\n  },\n  {\n    key: 'projects',\n    tab: '项目',\n  },\n  {\n    key: 'applications',\n    tab: '应用',\n  },\n];\n\nconst Search: FC<SearchProps> = () => {\n  const location = useLocation();\n  const match = useMatch(location.pathname);\n  const handleTabChange = (key: string) => {\n    const url =\n      match?.pathname === '/'\n        ? ''\n        : match?.pathname.substring(0, match.pathname.lastIndexOf('/'));\n    switch (key) {\n      case 'articles':\n        history.push(`${url}/articles`);\n        break;\n      case 'applications':\n        history.push(`${url}/applications`);\n        break;\n      case 'projects':\n        history.push(`${url}/projects`);\n        break;\n      default:\n        break;\n    }\n  };\n\n  const handleFormSubmit = (value: string) => {\n    // eslint-disable-next-line no-console\n    console.log(value);\n  };\n\n  const getTabKey = () => {\n    const tabKey = location.pathname.substring(\n      location.pathname.lastIndexOf('/') + 1,\n    );\n    if (tabKey && tabKey !== '/') {\n      return tabKey;\n    }\n    return 'articles';\n  };\n\n  return (\n    <PageContainer\n      content={\n        <div style={{ textAlign: 'center' }}>\n          <Input.Search\n            placeholder=\"请输入\"\n            enterButton=\"搜索\"\n            size=\"large\"\n            onSearch={handleFormSubmit}\n            style={{ maxWidth: 522, width: '100%' }}\n          />\n        </div>\n      }\n      tabList={tabList}\n      tabActiveKey={getTabKey()}\n      onTabChange={handleTabChange}\n    >\n      <Outlet />\n    </PageContainer>\n  );\n};\n\nexport default Search;\n"],"names":[],"mappings":"+PAoFA,+CAAA,8DAnFuD,iCAQvD,IAAM,EAAU,CACd,CACE,IAAK,WACL,IAAK,cACP,EACA,CACE,IAAK,WACL,IAAK,cACP,EACA,CACE,IAAK,eACL,IAAK,cACP,EACD,KA8DD,EA5DgC,KAC9B,IAAM,EAAW,GAAA,aAAW,IACtB,EAAQ,GAAA,UAAQ,EAAC,EAAS,QAAQ,EAoCxC,MACE,UAAC,eAAa,EACZ,QACE,UAAC,OAAI,MAAO,CAAE,UAAW,QAAS,WAChC,UAAC,SAAK,CAAC,MAAM,EACX,YAAY,qBACZ,YAAY,eACZ,KAAK,QACL,SAvBe,AAAC,IAExB,QAAQ,GAAG,CAAC,GACd,EAqBU,MAAO,CAAE,SAAU,IAAK,MAAO,MAAO,MAI5C,QAAS,EACT,aAAc,AAxBA,CAAA,KAChB,IAAM,EAAS,EAAS,QAAQ,CAAC,SAAS,CACxC,EAAS,QAAQ,CAAC,WAAW,CAAC,KAAO,UAEvC,AAAI,GAAU,AAAW,MAAX,EACL,EAEF,WACT,CAAA,IAiBI,YAlDoB,AAAC,IACvB,IAAM,EACJ,OAAA,SAAA,EAAO,QAAQ,IAAK,IAChB,SACA,SAAA,EAAO,QAAQ,CAAC,SAAS,CAAC,EAAG,EAAM,QAAQ,CAAC,WAAW,CAAC,MAC9D,OAAQ,GACN,IAAK,WACH,SAAO,CAAC,IAAI,CAAC,CAAC,EAAE,EAAI,SAAS,CAAC,EAC9B,MACF,IAAK,eACH,SAAO,CAAC,IAAI,CAAC,CAAC,EAAE,EAAI,aAAa,CAAC,EAClC,MACF,IAAK,WACH,SAAO,CAAC,IAAI,CAAC,CAAC,EAAE,EAAI,SAAS,CAAC,EAIlC,CACF,WAkCI,UAAC,QAAM,OAGb"}